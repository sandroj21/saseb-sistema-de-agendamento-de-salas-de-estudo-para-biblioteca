<!DOCTYPE html>

<html>

<head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="description" content="Responsive Admin &amp; Dashboard Template based on Bootstrap 5">
	<meta name="author" content="AdminKit">
	<meta name="keywords" content="adminkit, bootstrap, bootstrap 5, admin, dashboard, template, responsive, css, sass, html, theme, front-end, ui kit, web">

	<title>Cadastro de Agendamentos</title>
        <link rel="stylesheet" media="screen" href="@{'/public/stylesheets/main.css'}">
        <link rel="shortcut icon" type="image/png" href="@{'/public/images/favicon.png'}">
	<style type="text/css">
		body{
			font-family: cambria;
		}
	</style>
</head>

<body>
	<div class="wrapper">
		<nav id="sidebar" class="sidebar">
			<div class="sidebar-content js-simplebar">
				<a class="sidebar-brand" href="@{Usuarios.index()}">
          <span class="align-middle">SASEB</span>
        </a>

				<ul class="sidebar-nav">
					<li class="sidebar-header">
						Cadastro
					</li>


					<li class="sidebar-item">
						<a class="sidebar-link" href="@{Usuarios.cadastroAgendamento()}">
              <i class="align-middle" data-feather="settings"></i> <span class="align-middle">Cadastrar Agendamentos</span>
            </a>
					</li>



					<li class="sidebar-header">
						Lista
					</li>

					<li class="sidebar-item">
						<a class="sidebar-link" href="@{Usuarios.listaAgendamento()}">
              <i class="align-middle" data-feather="coffee"></i> <span class="align-middle">Meus Agendamentos</span>
            </a>
					</li>

					

					
				</ul>
				
			</div>
		</nav>

		<div class="main">
			<nav class="navbar navbar-expand navbar-light navbar-bg">
				<a class="sidebar-toggle d-flex">
          <i class="hamburger align-self-center"></i>
        </a>

				<span>Sistema de Agendamentos de Salas de Estudo para Biblioteca</span>

				<div class="navbar-collapse collapse">
					<ul class="navbar-nav navbar-align">
						<li class="nav-item dropdown">
							<a class="nav-icon dropdown-toggle" href="#" id="alertsDropdown" data-toggle="dropdown">
								<div class="position-relative">
								</div>
							</a>
							
						</li>
						
						<li class="nav-item dropdown">
						<span class="badge bg-secondary">${session.get("usuario.nome")}</span>
							<a class="nav-icon dropdown-toggle d-inline-block d-sm-none" href="#" data-toggle="dropdown">
                <i class="align-middle" data-feather="settings"></i>
              </a>
					
                  <a class="dropdown-item" href="@{Login.sair()}">Sair</a>
              </a>
							<div class="dropdown-menu dropdown-menu-right">
								
							</div>
						</li>
					</ul>
				</div>
			</nav>

			<main class="content">
				#{if flash.success}
						<p class="alert alert-success alert-dismissible">${flash.success}</p>
				#{/if}
				#{elseif flash.error}
						<p style="font-size:15px; padding:10px;" class="alert alert-danger alert-error">${flash.error}</p>
				#{/elseif}
			
				<div class="card">
			<div class="card-header">
				<h5 class="card-title">Cadastro de Agendamentos</h5>
			</div>
			<div class="card-body">
				<form action="@{Usuarios.salvarAgendamento()}" method="POST">
				<input type="hidden" name="agenda.id" value="${agenda?.id}">
				<input type="hidden" name="agenda.usuario.id" value="${agenda?.usuario?.id}">
				<input type="hidden" name="usuario.id" value="${usuario?.id}">
					
					<div class="mb-3">
						<span class="badge bg-danger rounded-pill">#{ifError 'agenda.justificativa'} #{error 'agenda.justificativa' /} #{/ifError}</span><br>
						<label class="form-label">Justificativa</label> <input type="text"
							class="form-control" placeholder="Justificativa" name="agenda.justificativa" value="${flash['agenda.justificativa'] != null ? flash['agenda.justificativa'] : agenda?.justificativa}">
					</div>
					<span class="badge bg-danger rounded-pill">#{ifError 'agenda.horario'} #{error 'agenda.horario' /} #{/ifError}</span><br>
					Horario:<br>
						<input type="time" name="agenda.horario" value="${flash['agenda.horario'] != null ? flash['agenda.horario'] : agenda?.horario}">
					<br><br>
					<span class="badge bg-danger rounded-pill">#{ifError 'agenda.sala'} #{error 'agenda.sala' /} #{/ifError}</span><br>
					Sala:<br>
					<select name="agenda.sala.id">
					<option value=""></option>
					#{list items:salas, as:'sala'}
						<option value="${sala?.id}" #{if agenda?.sala?.id == sala?.id} selected #{/if}>${sala.numeroIdentificacao} - ${sala.tipo}</option>
					#{/list}	
					</select><br><br>
				
				
					<button type="submit" class="btn btn-primary">Salvar</button>
				</form>
			</div>
		</div>
		<div class="row">
			<div class="col-xl-6 col-xxl-5 d-flex">
				<div class="w-100">
					<div class="row">
						<div class="col-sm-6"></div>
					</div>
				</div>
			</div>
		</div>
			
				<div class="container-fluid p-0">
					
					<div class="row">
						<div class="col-xl-6 col-xxl-5 d-flex">
							<div class="w-100">
								<div class="row">
									<div class="col-sm-6">
										
									</div>
								</div>
							</div>
						</div>
					</div>

				</div>
			</main>
	
			
			
		</div>
	</div>

	
</body>

</html>
